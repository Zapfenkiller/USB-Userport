<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USB-Userport: Userport.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">USB-Userport
   </div>
   <div id="projectbrief">Exploit generic HID class to connect PC application programs to your electronics lab bench.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00032.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Userport.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>USB-Userport main file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="a00035.html">Userport.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Userport.c:</div>
<div class="dyncontent">
<div class="center"><img src="a00033.png" border="0" usemap="#_userport_8c" alt=""/></div>
<map name="_userport_8c" id="_userport_8c">
<area shape="rect" title="USB&#45;Userport main file." alt="" coords="403,5,485,32"/>
<area shape="rect" href="a00035.html" title="Header file for Userport.c." alt="" coords="403,80,485,107"/>
<area shape="rect" title=" " alt="" coords="5,155,77,181"/>
<area shape="rect" title=" " alt="" coords="102,155,188,181"/>
<area shape="rect" href="a00029.html" title="Header file for Descriptors.c." alt="" coords="264,155,363,181"/>
<area shape="rect" title=" " alt="" coords="61,229,232,256"/>
<area shape="rect" href="a00020.html" title="Application Configuration Header File." alt="" coords="394,229,525,256"/>
<area shape="rect" href="a00008.html" title="ADC definitions for Sparkfun ProMicro." alt="" coords="708,155,807,181"/>
<area shape="rect" href="a00011.html" title="GPIO handling for Sparkfun ProMicro." alt="" coords="831,155,941,181"/>
<area shape="rect" href="a00017.html" title="LED definitions for Sparkfun ProMicro." alt="" coords="438,155,540,181"/>
<area shape="rect" href="a00014.html" title="IO register access definitions for Sparkfun ProMicro." alt="" coords="565,155,683,181"/>
<area shape="rect" title=" " alt="" coords="967,155,1137,181"/>
<area shape="rect" title=" " alt="" coords="257,229,369,256"/>
<area shape="rect" title=" " alt="" coords="659,229,721,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:add1d70f5c793ae44213cf3e26f58cbfe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#add1d70f5c793ae44213cf3e26f58cbfe">CALLBACK_HID_Device_CreateHIDReport</a> (USB_ClassInfo_HID_Device_t *const HIDInterfaceInfo, uint8_t *const ReportID, const uint8_t ReportType, void *ReportData, uint16_t *const ReportSize)</td></tr>
<tr class="separator:add1d70f5c793ae44213cf3e26f58cbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a35266e845267f6bffe0a4e9da3839"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#ad6a35266e845267f6bffe0a4e9da3839">CALLBACK_HID_Device_ProcessHIDReport</a> (USB_ClassInfo_HID_Device_t *const HIDInterfaceInfo, const uint8_t ReportID, const uint8_t ReportType, const void *ReportData, const uint16_t ReportSize)</td></tr>
<tr class="separator:ad6a35266e845267f6bffe0a4e9da3839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953a275884b9e33629ff6323fca05252"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#a953a275884b9e33629ff6323fca05252">EVENT_USB_Device_ConfigurationChanged</a> (void)</td></tr>
<tr class="separator:a953a275884b9e33629ff6323fca05252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff97648c9250a3d398bb0b74f040899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#aeff97648c9250a3d398bb0b74f040899">EVENT_USB_Device_Connect</a> (void)</td></tr>
<tr class="separator:aeff97648c9250a3d398bb0b74f040899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4ce439a74a152e3c8ffda5c7dd201a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#a3f4ce439a74a152e3c8ffda5c7dd201a">EVENT_USB_Device_ControlRequest</a> (void)</td></tr>
<tr class="separator:a3f4ce439a74a152e3c8ffda5c7dd201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88405d14d8d6dada9313520cb1501ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#ae88405d14d8d6dada9313520cb1501ec">EVENT_USB_Device_Disconnect</a> (void)</td></tr>
<tr class="separator:ae88405d14d8d6dada9313520cb1501ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ebb4fd4403f463b300b745d8485b65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#aa3ebb4fd4403f463b300b745d8485b65">EVENT_USB_Device_StartOfFrame</a> (void)</td></tr>
<tr class="separator:aa3ebb4fd4403f463b300b745d8485b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb27e569c06a2797c5fd58ed39147448"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#acb27e569c06a2797c5fd58ed39147448">SetupHardware</a> (void)</td></tr>
<tr class="separator:acb27e569c06a2797c5fd58ed39147448"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac287ed7b359c3213653ac6acf520780d"><td class="memItemLeft" align="right" valign="top">USB_ClassInfo_HID_Device_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#ac287ed7b359c3213653ac6acf520780d">Generic_HID_Interface</a></td></tr>
<tr class="separator:ac287ed7b359c3213653ac6acf520780d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21c4afb0544dc3109019322dcb63469"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#ab21c4afb0544dc3109019322dcb63469">IRQmaskGPIO1</a></td></tr>
<tr class="separator:ab21c4afb0544dc3109019322dcb63469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcdd3161492ce2d2b778aee966d19d4"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#a5fcdd3161492ce2d2b778aee966d19d4">IRQmaskGPIO2</a></td></tr>
<tr class="separator:a5fcdd3161492ce2d2b778aee966d19d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf72dd6fa12250bc765a1a84b5533ce7"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#abf72dd6fa12250bc765a1a84b5533ce7">previousGPIO1</a></td></tr>
<tr class="separator:abf72dd6fa12250bc765a1a84b5533ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b5d94f2157e5b8c428208de38cd5c8"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00032.html#a78b5d94f2157e5b8c428208de38cd5c8">previousGPIO2</a></td></tr>
<tr class="separator:a78b5d94f2157e5b8c428208de38cd5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>USB-Userport main file. </p>
<p>Main source file for the USB-Userport. This file contains the main tasks and the control logic. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="add1d70f5c793ae44213cf3e26f58cbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1d70f5c793ae44213cf3e26f58cbfe">&#9670;&nbsp;</a></span>CALLBACK_HID_Device_CreateHIDReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CALLBACK_HID_Device_CreateHIDReport </td>
          <td>(</td>
          <td class="paramtype">USB_ClassInfo_HID_Device_t *const&#160;</td>
          <td class="paramname"><em>HIDInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>ReportID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>ReportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ReportData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>ReportSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HID class driver callback function for the creation of HID reports to the host. This is where the USB-IN-reports (device to host) are created. With LUFA's HID class implementation this is also where Feature-IN-reports (device to host) get created. Depending on <code>ReportType</code> and <code>ReportID</code> the respective answer is prepared. A special consideration need the INTERRUPT-IN reports, sending the asynchronous data to the host and getting build here in addition. In this case the requested Report-ID is '0'. Well, this is special and needs more thoughts. Since the USB-host actively samples each device for such asynchronous data it is not really asynchronous to the bus. And since any INTERRUPT-IN data must wait until the host asks for it, it is also not really interrupting. The best way to think of it is a kind of universal request for unspecific data the device decides to send (or not). The host receives this and forwards it to the application. From the application view this report is not requested and interrupts the application processing.</p>
<dl class="section note"><dt>Note</dt><dd>There is some timeout limitation and any reaction shall get returned within this limit. Otherwise the host will detect a device issue.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">HIDInterfaceInfo</td><td>Pointer to the HID class interface configuration structure being referenced. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ReportID</td><td>Report ID requested by the host if non-zero, otherwise its the INTERRUPT IN poll. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReportType</td><td>Type of the report to create, either <code>HID_REPORT_ITEM_In</code> or <code>ID_REPORT_ITEM_Feature</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ReportData</td><td>Pointer to a buffer where the created report should be stored. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ReportSize</td><td>Number of bytes written in the report (or zero if no report is to be sent).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean <code>true</code> to force the sending of the report, <code>false</code> to not send it. Library automatics are overriden due to ReportID usage. </dd></dl>

<p class="reference">References <a class="el" href="a00008.html#a561c852712a1c63fcd4cc5fc1a654df6">ADC_Chan_4</a>, <a class="el" href="a00008.html#ab10149e4cf335486408a73545f421a64">ADC_Chan_5</a>, <a class="el" href="a00008.html#a8137a9608d788d7dd5063ba91daa461b">ADC_Chan_6</a>, <a class="el" href="a00008.html#a09280110acfb19806f598c0027f617f7">ADC_Chan_7</a>, <a class="el" href="a00008.html#afdaeb966d1cda3bfd3053301a962e881">ADC_Get_Sample()</a>, <a class="el" href="a00011.html#a037e395c663caa5d059c7cc3c74f51f9">GPIO1_GetDirections()</a>, <a class="el" href="a00011.html#a2a04887bf38c8bc339c6bc8c40ba8cf8">GPIO1_GetLines()</a>, <a class="el" href="a00011.html#a61e79a534c5ec31de65eefb311591d75">GPIO2_GetDirections()</a>, <a class="el" href="a00011.html#ad58a97d9085a3ea88e6c5deb41515069">GPIO2_GetLines()</a>, <a class="el" href="a00014.html#aa710133d0a470ad69cd953739d87f3c1">io_read()</a>, <a class="el" href="a00032.html#ab21c4afb0544dc3109019322dcb63469">IRQmaskGPIO1</a>, <a class="el" href="a00032.html#a5fcdd3161492ce2d2b778aee966d19d4">IRQmaskGPIO2</a>, <a class="el" href="a00017.html#ad8b744eefbc9fff779c00ff17cb2342a">LEDs_GetAll()</a>, <a class="el" href="a00032.html#abf72dd6fa12250bc765a1a84b5533ce7">previousGPIO1</a>, <a class="el" href="a00032.html#a78b5d94f2157e5b8c428208de38cd5c8">previousGPIO2</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a7613ad81ade3297a56da42696cf44a5b">REPORT_ID_DEVICE_LEDS</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780abf04383fd1344353601ed7abd6e0fd54">REPORT_ID_DIRS_GPIO1</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a828285fd5a2c82afe3714f6dfe0e6dfb">REPORT_ID_DIRS_GPIO2</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a71975cc70378c0d9c47290857a7a89bf">REPORT_ID_GET_ADC4</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a490e8efb98c65b93d69286ad6c87a88f">REPORT_ID_GET_ADC5</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a7c4d90bb5cc7d825768c07c62359f4c9">REPORT_ID_GET_ADC6</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a6132e3076835405b0192839715c8c75c">REPORT_ID_GET_ADC7</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a01aaa2cc09d226b376bd73377313e49b">REPORT_ID_IRQ_GPIO</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a9e7b56aa0ceb61393b4d9c19182093e8">REPORT_ID_IRQEN_GPIO</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780aa8fd5d0709954b88a192ced7a675342d">REPORT_ID_LINES_GPIO1</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780ae9a9aa4a8fa27e306d4fa21409617f95">REPORT_ID_LINES_GPIO2</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a26b87bf4f1295b954848c9f6539d21d2">REPORT_ID_MEM_ACCESS</a>, <a class="el" href="a00020.html#abf1d102b1a5b785927f21b390a7297e7">REPORT_SIZE_DEVICE_LEDS</a>, <a class="el" href="a00020.html#a0f6802fad08d7a76a58d784eff490b06">REPORT_SIZE_GET_ADC</a>, <a class="el" href="a00020.html#ab6169056bca0e1f0431124184e7a38e9">REPORT_SIZE_GET_GPIO</a>, <a class="el" href="a00020.html#a3aa945c2727313269b7e9e8331b5fadd">REPORT_SIZE_IRQ_GPIO</a>, <a class="el" href="a00020.html#a9cc74e33d48bca805b12fe48b473f994">REPORT_SIZE_IRQEN_GPIO</a>, <a class="el" href="a00017.html#adbbd0589abbef601d86072f4a5a5821d">RXLED</a>, <a class="el" href="a00020.html#ae36a3322eba284dc016c0a4ac85171c1">RXLED_POS</a>, <a class="el" href="a00017.html#a0f2351d1bc7078c9316e16bf385e970f">TXLED</a>, and <a class="el" href="a00020.html#a322043de54680383c2fdef7783227f4a">TXLED_POS</a>.</p>

</div>
</div>
<a id="ad6a35266e845267f6bffe0a4e9da3839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a35266e845267f6bffe0a4e9da3839">&#9670;&nbsp;</a></span>CALLBACK_HID_Device_ProcessHIDReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALLBACK_HID_Device_ProcessHIDReport </td>
          <td>(</td>
          <td class="paramtype">USB_ClassInfo_HID_Device_t *const&#160;</td>
          <td class="paramname"><em>HIDInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>ReportID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>ReportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ReportData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>ReportSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HID class driver callback function for the processing of HID reports from the host. This is where the USB-OUT-reports (host to device) are processed, depending on <code>ReportType</code> and <code>ReportID</code>. LUFA's HID class implementation also ends up here when the host sends a Feature-OUT-report.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">HIDInterfaceInfo</td><td>Pointer to the HID class interface configuration structure being referenced. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReportID</td><td>Report ID of the received report from the host. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReportType</td><td>The type of report that the host has sent, either <code>HID_REPORT_ITEM_Out</code> or <code>HID_REPORT_ITEM_Feature</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReportData</td><td>Pointer to a buffer where the received report has been stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReportSize</td><td>Size in bytes of the received HID report. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a00008.html#a604a1a37c019243252ea25fdf4f2d283">ADC_Configure()</a>, <a class="el" href="a00011.html#a179d57093afb70088109796db54e9f3c">GPIO1_ChangeDirections()</a>, <a class="el" href="a00011.html#add348ca134646a14bb9c33f728b5c534">GPIO1_ChangeLines()</a>, <a class="el" href="a00011.html#a81e917532f102fb090da953d5e79139b">GPIO2_ChangeDirections()</a>, <a class="el" href="a00011.html#a7e0155070afa04bba95d19d1176dd2f5">GPIO2_ChangeLines()</a>, <a class="el" href="a00032.html#ab21c4afb0544dc3109019322dcb63469">IRQmaskGPIO1</a>, <a class="el" href="a00032.html#a5fcdd3161492ce2d2b778aee966d19d4">IRQmaskGPIO2</a>, <a class="el" href="a00017.html#a66d39a43d55d7e1af4550faeaa311ef1">LEDS_NO_LEDS</a>, <a class="el" href="a00017.html#a49ddf040cb9da4a66fab66413cfaa730">LEDs_SetAll()</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a7613ad81ade3297a56da42696cf44a5b">REPORT_ID_DEVICE_LEDS</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780abf04383fd1344353601ed7abd6e0fd54">REPORT_ID_DIRS_GPIO1</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a828285fd5a2c82afe3714f6dfe0e6dfb">REPORT_ID_DIRS_GPIO2</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a9e7b56aa0ceb61393b4d9c19182093e8">REPORT_ID_IRQEN_GPIO</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780aa8fd5d0709954b88a192ced7a675342d">REPORT_ID_LINES_GPIO1</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780ae9a9aa4a8fa27e306d4fa21409617f95">REPORT_ID_LINES_GPIO2</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780abc1ac3ba129aa3613cc1a86bcb47225b">REPORT_ID_MEM_ADR</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a55b57f319d289b4736da40e73a25e751">REPORT_ID_SERVO_PWM</a>, <a class="el" href="a00020.html#a928e48d4d98c572e5145096320ffc780a2bc63dd57090f047e96d30c95fffd129">REPORT_ID_SET_ADC</a>, <a class="el" href="a00017.html#adbbd0589abbef601d86072f4a5a5821d">RXLED</a>, <a class="el" href="a00020.html#ae36a3322eba284dc016c0a4ac85171c1">RXLED_POS</a>, <a class="el" href="a00017.html#a0f2351d1bc7078c9316e16bf385e970f">TXLED</a>, and <a class="el" href="a00020.html#a322043de54680383c2fdef7783227f4a">TXLED_POS</a>.</p>

</div>
</div>
<a id="a953a275884b9e33629ff6323fca05252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953a275884b9e33629ff6323fca05252">&#9670;&nbsp;</a></span>EVENT_USB_Device_ConfigurationChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_ConfigurationChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event handler for the library USB Configuration Changed event. Unchanged with respect to the LUFA generic HID demo. </p>

<p class="reference">References <a class="el" href="a00032.html#ac287ed7b359c3213653ac6acf520780d">Generic_HID_Interface</a>.</p>

</div>
</div>
<a id="aeff97648c9250a3d398bb0b74f040899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff97648c9250a3d398bb0b74f040899">&#9670;&nbsp;</a></span>EVENT_USB_Device_Connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_Connect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event handler for the library USB Connection event. Currently this is empty. </p>

</div>
</div>
<a id="a3f4ce439a74a152e3c8ffda5c7dd201a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4ce439a74a152e3c8ffda5c7dd201a">&#9670;&nbsp;</a></span>EVENT_USB_Device_ControlRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_ControlRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event handler for the library USB Control Request reception event. Unchanged with respect to the LUFA generic HID demo. </p>

<p class="reference">References <a class="el" href="a00032.html#ac287ed7b359c3213653ac6acf520780d">Generic_HID_Interface</a>.</p>

</div>
</div>
<a id="ae88405d14d8d6dada9313520cb1501ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae88405d14d8d6dada9313520cb1501ec">&#9670;&nbsp;</a></span>EVENT_USB_Device_Disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_Disconnect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event handler for the library USB Disconnection event. Currently this is empty. </p>

</div>
</div>
<a id="aa3ebb4fd4403f463b300b745d8485b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3ebb4fd4403f463b300b745d8485b65">&#9670;&nbsp;</a></span>EVENT_USB_Device_StartOfFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_StartOfFrame </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event handler for the USB device Start Of Frame event. Unchanged with respect to the LUFA generic HID demo. </p>

<p class="reference">References <a class="el" href="a00032.html#ac287ed7b359c3213653ac6acf520780d">Generic_HID_Interface</a>.</p>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main program. First it initializes some hardware. The complete activity then is performed by an endless loop calling some tasks. </p>

<p class="reference">References <a class="el" href="a00032.html#ac287ed7b359c3213653ac6acf520780d">Generic_HID_Interface</a>, and <a class="el" href="a00032.html#acb27e569c06a2797c5fd58ed39147448">SetupHardware()</a>.</p>

</div>
</div>
<a id="acb27e569c06a2797c5fd58ed39147448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb27e569c06a2797c5fd58ed39147448">&#9670;&nbsp;</a></span>SetupHardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetupHardware </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the USB-Userport. </p>

<p class="reference">References <a class="el" href="a00011.html#a2a04887bf38c8bc339c6bc8c40ba8cf8">GPIO1_GetLines()</a>, <a class="el" href="a00011.html#ad58a97d9085a3ea88e6c5deb41515069">GPIO2_GetLines()</a>, <a class="el" href="a00011.html#a1f9aa4179d675e5ba5d994715a2012e1">GPIO_Init()</a>, <a class="el" href="a00032.html#ab21c4afb0544dc3109019322dcb63469">IRQmaskGPIO1</a>, <a class="el" href="a00032.html#a5fcdd3161492ce2d2b778aee966d19d4">IRQmaskGPIO2</a>, <a class="el" href="a00017.html#acffbbef4e208d25297858c4f0f1c79fd">LEDs_Init()</a>, <a class="el" href="a00032.html#abf72dd6fa12250bc765a1a84b5533ce7">previousGPIO1</a>, and <a class="el" href="a00032.html#a78b5d94f2157e5b8c428208de38cd5c8">previousGPIO2</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac287ed7b359c3213653ac6acf520780d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac287ed7b359c3213653ac6acf520780d">&#9670;&nbsp;</a></span>Generic_HID_Interface</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB_ClassInfo_HID_Device_t Generic_HID_Interface</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">   {</div>
<div class="line">      .Config =</div>
<div class="line">         {</div>
<div class="line">            .InterfaceNumber              = <a class="code" href="a00029.html#ab083ca8c92e1a34d1952524ae96df991a5b8e2932d4f8b7504552f6093b1485e4">INTERFACE_ID_GenericHID</a>,</div>
<div class="line">            .ReportINEndpoint             =</div>
<div class="line">               {</div>
<div class="line">                  .Address                = <a class="code" href="a00029.html#aca28dca0e8a504db56ba08ea4085e5fb">GENERIC_IN_EPADDR</a>,</div>
<div class="line">                  .Size                   = <a class="code" href="a00029.html#ad6d051238048b76bdb4d49f9e7c367bb">GENERIC_EPSIZE</a>,</div>
<div class="line">                  .Banks                  = 1,</div>
<div class="line">               },</div>
<div class="line">            .PrevReportINBuffer           = NULL,</div>
<div class="line">            .PrevReportINBufferSize       = <a class="code" href="a00020.html#a64a71658aee75a5600d4d76c86809213">GENERIC_REPORT_SIZE</a>,</div>
<div class="line">         },</div>
<div class="line">   }</div>
</div><!-- fragment --><p>LUFA HID Class driver interface configuration and state information. This structure is passed to all HID Class driver functions, so that multiple instances of the same class within a device can be differentiated from one another. </p>

</div>
</div>
<a id="ab21c4afb0544dc3109019322dcb63469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab21c4afb0544dc3109019322dcb63469">&#9670;&nbsp;</a></span>IRQmaskGPIO1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t IRQmaskGPIO1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>contains the change monitor control bitmask for GPIO1. </p>

</div>
</div>
<a id="a5fcdd3161492ce2d2b778aee966d19d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fcdd3161492ce2d2b778aee966d19d4">&#9670;&nbsp;</a></span>IRQmaskGPIO2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t IRQmaskGPIO2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>contains the change monitor control bitmask for GPIO2. </p>

</div>
</div>
<a id="abf72dd6fa12250bc765a1a84b5533ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf72dd6fa12250bc765a1a84b5533ce7">&#9670;&nbsp;</a></span>previousGPIO1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t previousGPIO1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tracks the previous line state for change detection on GPIO1. </p>

</div>
</div>
<a id="a78b5d94f2157e5b8c428208de38cd5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b5d94f2157e5b8c428208de38cd5c8">&#9670;&nbsp;</a></span>previousGPIO2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t previousGPIO2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tracks the previous line state for change detection on GPIO2. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa00029_html_ab083ca8c92e1a34d1952524ae96df991a5b8e2932d4f8b7504552f6093b1485e4"><div class="ttname"><a href="a00029.html#ab083ca8c92e1a34d1952524ae96df991a5b8e2932d4f8b7504552f6093b1485e4">INTERFACE_ID_GenericHID</a></div><div class="ttdeci">@ INTERFACE_ID_GenericHID</div><div class="ttdef"><b>Definition:</b> Descriptors.h:72</div></div>
<div class="ttc" id="aa00029_html_ad6d051238048b76bdb4d49f9e7c367bb"><div class="ttname"><a href="a00029.html#ad6d051238048b76bdb4d49f9e7c367bb">GENERIC_EPSIZE</a></div><div class="ttdeci">#define GENERIC_EPSIZE</div><div class="ttdef"><b>Definition:</b> Descriptors.h:104</div></div>
<div class="ttc" id="aa00020_html_a64a71658aee75a5600d4d76c86809213"><div class="ttname"><a href="a00020.html#a64a71658aee75a5600d4d76c86809213">GENERIC_REPORT_SIZE</a></div><div class="ttdeci">#define GENERIC_REPORT_SIZE</div><div class="ttdef"><b>Definition:</b> AppConfig.h:204</div></div>
<div class="ttc" id="aa00029_html_aca28dca0e8a504db56ba08ea4085e5fb"><div class="ttname"><a href="a00029.html#aca28dca0e8a504db56ba08ea4085e5fb">GENERIC_IN_EPADDR</a></div><div class="ttdeci">#define GENERIC_IN_EPADDR</div><div class="ttdef"><b>Definition:</b> Descriptors.h:97</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00032.html">Userport.c</a></li>
    <li class="footer">Generated on Thu Apr 15 2021 09:33:54 for USB-Userport by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
